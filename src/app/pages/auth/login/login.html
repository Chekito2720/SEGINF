<div class="auth-wrapper">
    <div class="auth-card">

        <div class="auth-header">
            <i class="pi pi-lock brand-icon"></i>
            <h1>Iniciar sesión</h1>
            <p>Ingresa tus credenciales para continuar</p>
        </div>

        @if (errorMessage()) {
        <p-message severity="error" [text]="errorMessage()" styleClass="w-full" />
        }

        <form [formGroup]="form" (ngSubmit)="onSubmit()" class="auth-form" novalidate>

            <div class="field">
                <label for="email">Correo electrónico <span class="required">*</span></label>
                <input pInputText id="email" type="email" formControlName="email" placeholder="tu@email.com"
                    [class.input-error]="emailInvalid" />
                @if (emailInvalid) {
                <span class="field-error">
                    <i class="pi pi-exclamation-circle"></i>
                    {{ form.get('email')?.errors?.['required'] ? 'El correo es requerido' : 'Ingresa un correo válido'
                    }}
                </span>
                }
            </div>

            <div class="field">
                <label for="password">Contraseña <span class="required">*</span></label>
                <p-password id="password" formControlName="password" placeholder="••••••••" [feedback]="false"
                    [toggleMask]="true" styleClass="w-full" [class.ng-invalid]="passwordInvalid"
                    [class.ng-dirty]="passwordInvalid" />
                @if (passwordInvalid) {
                <span class="field-error">
                    <i class="pi pi-exclamation-circle"></i>
                    La contraseña es requerida
                </span>
                }
            </div>

            <div class="options-row">
                <div class="remember-me">
                    <p-checkbox [(ngModel)]="rememberMe" [ngModelOptions]="{standalone: true}" inputId="remember"
                        [binary]="true" />
                    <label for="remember">Recordarme</label>
                </div>
                <a routerLink="/auth/forgot-password" class="forgot-link">¿Olvidaste tu contraseña?</a>
            </div>

            <p-button type="submit" label="Iniciar sesión" [loading]="loading()" [disabled]="form.invalid"
                styleClass="w-full submit-btn" />

        </form>

        <!-- Credenciales de prueba -->
        <div class="demo-credentials">
            <p class="demo-title"><i class="pi pi-info-circle"></i> Credenciales de prueba</p>
            <div class="demo-row"><span>admin&#64;miapp.com</span><span>Admin&#64;12345</span></div>
            <div class="demo-row"><span>usuario&#64;miapp.com</span><span>Usuario&#64;12345</span></div>
        </div>

        <p class="auth-footer">
            ¿No tienes cuenta? <a routerLink="/auth/register">Regístrate</a>
        </p>

    </div>
</div>