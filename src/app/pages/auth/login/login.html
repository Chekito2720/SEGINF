<div class="auth-wrapper">
    <div class="auth-card">

        <div class="auth-header">
            <i class="pi pi-lock brand-icon"></i>
            <h1>Iniciar sesión</h1>
            <p>Ingresa tus credenciales para continuar</p>
        </div>

        @if (errorMessage()) {
        <p-message severity="error" [text]="errorMessage()" styleClass="w-full" />
        }

        <form [formGroup]="form" (ngSubmit)="onSubmit()" class="auth-form" novalidate>

            <div class="field">
                <label for="email">Correo electrónico</label>
                <input pInputText id="email" type="email" formControlName="email" placeholder="tu@email.com"
                    [class.input-error]="emailInvalid" />
                @if (emailInvalid) {
                <span class="field-error">
                    {{ form.get('email')?.errors?.['required'] ? 'El correo es requerido' : 'Correo inválido' }}
                </span>
                }
            </div>

            <div class="field">
                <label for="password">Contraseña</label>
                <p-password id="password" formControlName="password" placeholder="••••••••" [feedback]="false"
                    [toggleMask]="true" styleClass="w-full" [class.ng-invalid]="passwordInvalid"
                    [class.ng-dirty]="passwordInvalid" />
                @if (passwordInvalid) {
                <span class="field-error">La contraseña debe tener al menos 6 caracteres</span>
                }
            </div>

            <div class="options-row">
                <div class="remember-me">
                    <p-checkbox [(ngModel)]="rememberMe" [ngModelOptions]="{standalone: true}" inputId="remember"
                        [binary]="true" />
                    <label for="remember">Recordarme</label>
                </div>
                <a routerLink="/auth/forgot-password" class="forgot-link">¿Olvidaste tu contraseña?</a>
            </div>

            <p-button type="submit" label="Iniciar sesión" [loading]="loading()" styleClass="w-full submit-btn" />

        </form>

        <p class="auth-footer">
            ¿No tienes cuenta? <a routerLink="/auth/register">Regístrate</a>
        </p>

    </div>
</div>